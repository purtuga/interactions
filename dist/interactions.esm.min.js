var __LIB=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=window.WeakMap.WeakMap=window.WeakMap},function(e,t,r){"use strict";r.r(t);const n=Function.bind.call.bind(Function.bind)(Function.call.bind,Function.call),i=n(Object.prototype.toString),o=e=>"[object Object]"===i(e),a=(Object.defineProperty,Object.defineProperties,Object.keys,[]),s=(Array.isArray,n(a.forEach),n(a.indexOf),n(a.splice),n(a.slice),console.log),c=console.error||s,l=(console.warn,"undefined"!=typeof Symbol&&Symbol.iterator&&Symbol.iterator,HTMLElement.prototype),u=document;u.head,n(l.appendChild),n(l.insertBefore),n(l.hasAttribute),n(l.getAttribute),n(l.setAttribute),n(l.removeAttribute);function d(e,...t){let r,n,i=e||{},a=t.length,s=!1;for("boolean"==typeof e&&(s=e,i=t.shift()||{},a=t.length),r=0;r<a;r++)if(t[r])for(n in t[r])t[r].hasOwnProperty(n)&&(s&&o(i[n])&&o(t[r][n])?i[n]=d(!0,i[n],t[r][n]):i[n]=t[r][n]);return i}var f=r(0),p={stash:new f.WeakMap,create:function(){return new f.WeakMap}};const h=Symbol("state");class m{on(e,t){return y(this,e).add(t),()=>y(this,e).delete(t)}emit(e,t){y(this,e).forEach(e=>e(t))}clear(){y(this).clear()}}function y(e,t){return e[h]||(e[h]=new Map),t?(e[h].has(t)||e[h].set(t,new Set),e[h].get(t)):e[h]}const v=["on","emit","clear"];function b(e,t,r,n){let i=t.split(/\s+/),o={};return i.forEach(t=>{e.addEventListener(t,r,n),o[t]={remove:()=>e.removeEventListener(t,r,n)}}),Object.create({listeners:o,remove:function(){i.forEach(e=>o[e].remove())}})}const w=new WeakMap;function g(e){var t,r=D(e.key);"method"===e.kind?(t={value:e.value,writable:!0,configurable:!0,enumerable:!1},Object.defineProperty(e.value,"name",{value:"symbol"==typeof r?"":r,configurable:!0})):"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function k(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function E(e){return e.decorators&&e.decorators.length}function O(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function x(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)}function S(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)}function j(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t}function H(e){if(void 0!==e)return function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e).map(function(e){var t=A(e);return z(e,"finisher","An element descriptor"),z(e,"extras","An element descriptor"),t})}function A(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=D(e.key),n=String(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var i=e.descriptor;z(e,"elements","An element descriptor");var o={kind:t,key:r,placement:n,descriptor:Object.assign({},i)};return"field"!==t?z(e,"initializer","A method descriptor"):(z(i,"get","The property descriptor of a field descriptor"),z(i,"set","The property descriptor of a field descriptor"),z(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o}function T(e){return{element:A(e),finisher:_(e,"finisher"),extras:H(e.extras)}}function P(e){var t={kind:"class",elements:e.map(j)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t}function M(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');z(e,"key","A class descriptor"),z(e,"placement","A class descriptor"),z(e,"descriptor","A class descriptor"),z(e,"initializer","A class descriptor"),z(e,"extras","A class descriptor");var r=_(e,"finisher");return{elements:H(e.elements),finisher:r}}function z(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}function _(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function D(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const W=p.create(),F="resize",L=`${F}-start`,R=`${F}-end`,C=["nHandle","neHandle","eHandle","seHandle","sHandle","swHandle","wHandle","nwHandle"],I=/^[ns]H/,$=/^[ew]H/,N=/^touch/,B=()=>!1,V=(e=>u.createElement(e))("template");V.innerHTML="<div handle></div>";let q=function(e,t,r){var n=t(function(e){!function(e,t){["method","field"].forEach(function(r){t.forEach(function(t){t.kind===r&&"own"===t.placement&&x(e,t)})})}(e,i.elements)},r),i=function(e,t){var r=[],n=[],i={static:[],prototype:[],own:[]};if(e.forEach(function(e){S(e,i)}),e.forEach(function(e){if(!E(e))return r.push(e);var t=function(e,t){for(var r=[],n=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=j(e),c=T((0,i[o])(s)||s);S(e=c.element,t),c.finisher&&n.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)S(l[u],t);r.push.apply(r,l)}}return{element:e,finishers:n,extras:r}}(e,i);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)}),!t)return{elements:r,finishers:n};var o=function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var i=P(e),o=M((0,t[n])(i)||i);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:r}}(r,t);return n.push.apply(n,o.finishers),o.finishers=n,o}(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},n=0;n<e.length;n++){var i,o=e[n];if("method"===o.kind&&(i=t.find(r)))if(O(o.descriptor)||O(i.descriptor)){if(E(o)||E(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(E(o)){if(E(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}k(o,i)}else t.push(o)}return t}(n.d.map(g)),e);return function(e,t){var r=e.prototype;["method","field"].forEach(function(n){t.forEach(function(t){var i=t.placement;if(t.kind===n&&("static"===i||"prototype"===i)){var o="static"===i?e:r;x(o,t)}})})}(n.F,i.elements),function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e}(n.F,i.finishers)}([function(e){return v.forEach(t=>{e.elements.push({key:t,kind:"method",placement:"prototype",descriptor:Object.getOwnPropertyDescriptor(m.prototype,t)})}),e}],function(e,t){return{F:class extends t{constructor(t){super(),e(this);let r={opt:d({},this.constructor.defaults,t)};W.set(this,r),r.opt.ele.ondragstart=B,this.emit=this.emit.bind(this),function(){let e,t=W.get(this),r=t.opt;C.forEach(n=>{e=null;const i=typeof r[n];if(r[n]){if("boolean"===i)(e=document.importNode(V.content,!0).firstChild).setAttribute("class",`${r.handleClassPrefix} ${r.handleClassPrefix}-${n.substr(0,n.indexOf("H"))}`),r.ele.appendChild(e);else if("string"===i){if(!(e=r.ele.querySelector(r[n])))return}else{if(!r[n].addEventListener)return;e=r[n]}t[n]=function({handle:e,movement:t="all"}){let r,n,i,o,a=W.get(this),s={},c=this.emit,{ele:l,minWidth:d,minHeight:f}=a.opt,p=e=>{let a=r+(U(e,"x")-i),s=n+(U(e,"y")-o),u=!1;return a>=d&&("all"===t||"ew"===t)&&(l.style.width=a+"px",u=!0),s>=f&&("all"===t||"ns"===t)&&(l.style.height=s+"px",u=!0),u&&c(F),e.stopPropagation(),e.preventDefault(),!1},h=()=>{let e=!1;s.mousemove&&(s.mousemove.remove(),s.mousemove=null,e=!0),s.mouseup&&(s.mouseup.remove(),s.mouseup=null,e=!0),e&&c(R)};return s.mousedown=b(e,"mousedown touchstart",e=>{r=l.clientWidth,n=l.clientHeight,i=U(e,"x"),o=U(e,"y"),s.mouseup=b(u,"mouseup touchend",h,!1),s.mousemove=b(u,"mousemove touchmove",p,!1),c(L)},!1),Object.create({remove(){Object.keys(s).forEach(e=>{s[e]&&(s[e].remove(),s[e]=null)})}})}.call(this,{handle:e,movement:$.test(n)?"ew":I.test(n)?"ns":"all"})}})}.call(this)}},d:[{kind:"method",key:"setHandle",value(){}}]}},class{constructor(){this.init&&this.init(...arguments)}onDestroy(e){w.has(this)||w.set(this,new Set),w.get(this).add(e)}destroy(){const e=w.get(this);e&&(e.forEach(e=>{try{e()}catch(e){c(e)}}),e.clear())}});function U(e,t){return(N.test(e.type)&&e.targetTouches?e.targetTouches.item(0):e)[`client${t.toUpperCase()}`]}q.defaults={ele:null,minWidth:50,minHeight:50,handleClassPrefix:"handle",nHandle:!1,neHandle:!1,eHandle:!0,seHandle:!0,sHandle:!0,swHandle:!1,wHandle:!1,nwHandle:!1};r.d(t,"VERSION",function(){return G}),r.d(t,"Resizable",function(){return q});const G="1.0.0"}]);export const VERSION=__LIB.VERSION;export const Resizable=__LIB.Resizable;
//# sourceMappingURL=interactions.esm.min.js.map