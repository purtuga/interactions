!function(e,t,r,n,i,o,a,s,l,c,u,f,d,p,m,h,y,v,b,w,g,k,x,E,H){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Interactions=t():e.Interactions=t()}(e,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||c.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(e,Symbol.toStringTag,{value:"Module"}),c.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=c.create(null);if(r.r(n),c.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return c.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=e.WeakMap.WeakMap=e.WeakMap},function(e,r,n){"use strict";n.r(r);const i=u.bind.call.bind(u.bind)(u.call.bind,u.call),o=i(c.prototype.toString),f=e=>"[object Object]"===o(e),d=(c.defineProperty,c.defineProperties,c.keys,[]),p=(l.isArray,i(d.forEach),i(d.indexOf),i(d.splice),i(d.slice),E.log),m=E.error||p,y=(E.warn,"undefined"!=typeof Symbol&&Symbol.iterator&&Symbol.iterator,HTMLElement.prototype),v=t;v.head,i(y.appendChild),i(y.insertBefore),i(y.hasAttribute),i(y.getAttribute),i(y.setAttribute),i(y.removeAttribute);function b(e,...t){let r,n,i=e||{},o=t.length,a=!1;for("boolean"==typeof e&&(a=e,i=t.shift()||{},o=t.length),r=0;r<o;r++)if(t[r])for(n in t[r])t[r].hasOwnProperty(n)&&(a&&f(i[n])&&f(t[r][n])?i[n]=b(!0,i[n],t[r][n]):i[n]=t[r][n]);return i}var w=n(0),g={stash:new w.WeakMap,create:function(){return new w.WeakMap}};const k=Symbol("state");class x{on(e,t){return S(this,e).add(t),()=>S(this,e).delete(t)}emit(e,t){S(this,e).forEach(e=>e(t))}clear(){S(this).clear()}}function S(e,t){return e[k]||(e[k]=new Map),t?(e[k].has(t)||e[k].set(t,new Set),e[k].get(t)):e[k]}const A=["on","emit","clear"];function P(e,t,r,n){let i=t.split(/\s+/),o={};return i.forEach(t=>{e.addEventListener(t,r,n),o[t]={remove:()=>e.removeEventListener(t,r,n)}}),c.create({listeners:o,remove:function(){i.forEach(e=>o[e].remove())}})}const M=new WeakMap;function T(e){var t,r=U(e.key);"method"===e.kind?(t={value:e.value,writable:!0,configurable:!0,enumerable:!1},c.defineProperty(e.value,"name",{value:"symbol"==typeof r?"":r,configurable:!0})):"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function O(e,t){e.descriptor.get!==H?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function j(e){return e.decorators&&e.decorators.length}function z(e){return e!==H&&!(e.value===H&&e.writable===H)}function C(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}c.defineProperty(e,t.key,r)}function D(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new h("Duplicated element ("+e.key+")");n.push(e.key)}function W(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return c.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t}function I(e){if(e!==H)return function(e){return function(e){if(l.isArray(e))return e}(e)||function(e){if(Symbol.iterator in c(e)||"[object Arguments]"===c.prototype.toString.call(e))return l.from(e)}(e)||function(){throw new h("Invalid attempt to destructure non-iterable instance")}()}(e).map(function(e){var t=F(e);return L(e,"finisher","An element descriptor"),L(e,"extras","An element descriptor"),t})}function F(e){var t=a(e.kind);if("method"!==t&&"field"!==t)throw new h('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=U(e.key),n=a(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new h('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var i=e.descriptor;L(e,"elements","An element descriptor");var o={kind:t,key:r,placement:n,descriptor:c.assign({},i)};return"field"!==t?L(e,"initializer","A method descriptor"):(L(i,"get","The property descriptor of a field descriptor"),L(i,"set","The property descriptor of a field descriptor"),L(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o}function R(e){return{element:F(e),finisher:N(e,"finisher"),extras:I(e.extras)}}function $(e){var t={kind:"class",elements:e.map(W)};return c.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t}function _(e){var t=a(e.kind);if("class"!==t)throw new h('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');L(e,"key","A class descriptor"),L(e,"placement","A class descriptor"),L(e,"descriptor","A class descriptor"),L(e,"initializer","A class descriptor"),L(e,"extras","A class descriptor");var r=N(e,"finisher");return{elements:I(e.elements),finisher:r}}function L(e,t,r){if(e[t]!==H)throw new h(r+" can't have a ."+t+" property.")}function N(e,t){var r=e[t];if(r!==H&&"function"!=typeof r)throw new h("Expected '"+t+"' to be a function");return r}function U(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==H){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new h("@@toPrimitive must return a primitive value.")}return("string"===t?a:s)(e)}(e,"string");return"symbol"==typeof t?t:a(t)}const q=g.create(),B="resize",J=`${B}-start`,V=`${B}-end`,G=["nHandle","neHandle","eHandle","seHandle","sHandle","swHandle","wHandle","nwHandle"],K=/^[ns]H/,Q=/^[ew]H/,X=/^touch/,Y=()=>!1,Z=(e=>v.createElement(e))("template");Z.innerHTML="<div handle></div>";let ee=function(e,t,r){var n=t(function(e){!function(e,t){["method","field"].forEach(function(r){t.forEach(function(t){t.kind===r&&"own"===t.placement&&C(e,t)})})}(e,i.elements)},r),i=function(e,t){var r=[],n=[],i={static:[],prototype:[],own:[]};if(e.forEach(function(e){D(e,i)}),e.forEach(function(e){if(!j(e))return r.push(e);var t=function(e,t){for(var r=[],n=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=W(e),l=R((0,i[o])(s)||s);D(e=l.element,t),l.finisher&&n.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)D(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:n,extras:r}}(e,i);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)}),!t)return{elements:r,finishers:n};var o=function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var i=$(e),o=_((0,t[n])(i)||i);if(o.finisher!==H&&r.push(o.finisher),o.elements!==H){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new h("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:r}}(r,t);return n.push.apply(n,o.finishers),o.finishers=n,o}(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},n=0;n<e.length;n++){var i,o=e[n];if("method"===o.kind&&(i=t.find(r)))if(z(o.descriptor)||z(i.descriptor)){if(j(o)||j(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(j(o)){if(j(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}O(o,i)}else t.push(o)}return t}(n.d.map(T)),e);return function(e,t){var r=e.prototype;["method","field"].forEach(function(n){t.forEach(function(t){var i=t.placement;if(t.kind===n&&("static"===i||"prototype"===i)){var o="static"===i?e:r;C(o,t)}})})}(n.F,i.elements),function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(n!==H){if("function"!=typeof n)throw new h("Finishers must return a constructor.");e=n}}return e}(n.F,i.finishers)}([function(e){return A.forEach(t=>{e.elements.push({key:t,kind:"method",placement:"prototype",descriptor:c.getOwnPropertyDescriptor(x.prototype,t)})}),e}],function(e,r){return{F:class extends r{constructor(r){super(),e(this);let n={opt:b({},this.constructor.defaults,r)};q.set(this,n),n.opt.ele.ondragstart=Y,this.emit=this.emit.bind(this),function(){let e,r=q.get(this),n=r.opt;G.forEach(i=>{e=null;const o=typeof n[i];if(n[i]){if("boolean"===o)(e=t.importNode(Z.content,!0).firstChild).setAttribute("class",`${n.handleClassPrefix} ${n.handleClassPrefix}-${i.substr(0,i.indexOf("H"))}`),n.ele.appendChild(e);else if("string"===o){if(!(e=n.ele.querySelector(n[i])))return}else{if(!n[i].addEventListener)return;e=n[i]}r[i]=function({handle:e,movement:t="all"}){let r,n,i,o,a=q.get(this),s={},l=this.emit,{ele:u,minWidth:f,minHeight:d}=a.opt,p=e=>{let a=r+(te(e,"x")-i),s=n+(te(e,"y")-o),c=!1;return a>=f&&("all"===t||"ew"===t)&&(u.style.width=a+"px",c=!0),s>=d&&("all"===t||"ns"===t)&&(u.style.height=s+"px",c=!0),c&&l(B),e.stopPropagation(),e.preventDefault(),!1},m=()=>{let e=!1;s.mousemove&&(s.mousemove.remove(),s.mousemove=null,e=!0),s.mouseup&&(s.mouseup.remove(),s.mouseup=null,e=!0),e&&l(V)};return s.mousedown=P(e,"mousedown touchstart",e=>{r=u.clientWidth,n=u.clientHeight,i=te(e,"x"),o=te(e,"y"),s.mouseup=P(v,"mouseup touchend",m,!1),s.mousemove=P(v,"mousemove touchmove",p,!1),l(J)},!1),c.create({remove(){c.keys(s).forEach(e=>{s[e]&&(s[e].remove(),s[e]=null)})}})}.call(this,{handle:e,movement:Q.test(i)?"ew":K.test(i)?"ns":"all"})}})}.call(this)}},d:[{kind:"method",key:"setHandle",value(){}}]}},class{constructor(){this.init&&this.init(...arguments)}onDestroy(e){M.has(this)||M.set(this,new Set),M.get(this).add(e)}destroy(){const e=M.get(this);e&&(e.forEach(e=>{try{e()}catch(e){m(e)}}),e.clear())}});function te(e,t){return(X.test(e.type)&&e.targetTouches?e.targetTouches.item(0):e)[`client${t.toUpperCase()}`]}ee.defaults={ele:null,minWidth:50,minHeight:50,handleClassPrefix:"handle",nHandle:!1,neHandle:!1,eHandle:!0,seHandle:!0,sHandle:!0,swHandle:!1,wHandle:!1,nwHandle:!1};n.d(r,"VERSION",function(){return re}),n.d(r,"Resizable",function(){return ee});const re="1.0.0"}])})}(window,document,location,setTimeout,setInterval,Date,String,Number,Array,Object,Function,atob,btoa,Math,JSON,TypeError,Error,encodeURIComponent,decodeURIComponent,requestAnimationFrame,CustomEvent,clearInterval,clearTimeout,console);
//# sourceMappingURL=interactions.umd.min.js.map