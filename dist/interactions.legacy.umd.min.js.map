{"version":3,"sources":["webpack://Interactions/webpack/universalModuleDefinition","webpack://Interactions/webpack/bootstrap","webpack://Interactions/./node_modules/@purtuga/common/src/jsutils/runtime-aliases.js","webpack://Interactions/./node_modules/@purtuga/common/src/jsutils/objectExtend.js","webpack://Interactions/./node_modules/@purtuga/common/src/jsutils/WeakMap.js","webpack://Interactions/./node_modules/@purtuga/common/src/jsutils/dataStore.js","webpack://Interactions/./node_modules/@purtuga/common/src/jsutils/Ev.js","webpack://Interactions/./node_modules/@purtuga/common/src/jsutils/Ev-decorator.js","webpack://Interactions/./node_modules/@purtuga/common/src/domutils/domAddEventListener.js","webpack://Interactions/./node_modules/@purtuga/common/src/jsutils/BaseClass.js","webpack://Interactions/./src/Resizable/Resizable.js","webpack://Interactions/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","functionBindCall","Function","functionBind","toString","isObject","obj","arr","defineProperties","keys","consoleLog","Array","isArray","forEach","indexOf","splice","slice","console","log","consoleError","error","HTMLElementPrototype","warn","iterator","HTMLElement","doc","document","head","appendChild","insertBefore","hasAttribute","getAttribute","setAttribute","removeAttribute","objectExtend","mergeIntoObj","response","_len","arguments","length","mergeObjects","_key","total","deepMerge","shift","FakeWeakMap","WeakMap","counter","Date","now","this","Math","random","set","entry","writable","undefined","delete","has","dataStore","stash","LISTENER_STORAGE","Ev","_classCallCheck","_createClass","evName","callback","_this","getStoreFor","add","data","clear","inst","Map","Set","MEMBERS","domAddEventListener","ele","event","capture","events","split","evListeners","addEventListener","remove","removeEventListener","listeners","PRIVATE","BaseClass","BaseClass_classCallCheck","init","apply","BaseClass_createClass","callbackList","e","EV_RESIZE","EV_START","concat","EV_END","HANDLE_OPTIONS","IS_NORTH_SOUTH_MOVEMENT","IS_EAST_WEST_MOVEMENT","IS_TOUCH","RETURN_FALSE","handleTemplate","tagName","createElement","innerHTML","Resizable","classDescriptor","memberName","elements","push","kind","placement","descriptor","getOwnPropertyDescriptor","options","Resizable_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","_initialize","_assertThisInitialized","opt","constructor","defaults","ondragstart","emit","handleEle","_this2","handle","handleType","_typeof","importNode","content","firstChild","handleClassPrefix","substr","querySelector","_ref","boxWidth","boxHeight","handleX","handleY","_ref$movement","movement","domEvents","_inst$opt","resizableEle","minWidth","minHeight","resizeWhenMouseMoves","mouseEvent","newWidth","getEventPointerPosition","newHeight","fireEvent","style","width","height","stopPropagation","preventDefault","stopResizing","mousemove","mouseup","mousedown","clientWidth","clientHeight","test","type","targetTouches","item","toUpperCase","nHandle","neHandle","eHandle","seHandle","sHandle","swHandle","wHandle","nwHandle","__webpack_exports__","VERSION","Resizable_Resizable","BUILD"],"mappings":"8DAAA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,IACA,mBAAAG,eAAAC,IACAD,UAAAH,GACA,iBAAAC,QACAA,QAAA,aAAAD,IAEAD,EAAA,aAAAC,IARA,CASCK,EAAA,WACD,mBCTA,IAAAC,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAP,QAGA,IAAAC,EAAAI,EAAAE,IACAC,EAAAD,EACAE,GAAA,EACAT,YAUA,OANAU,EAAAH,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAQ,GAAA,EAGAR,EAAAD,QA0DA,OArDAM,EAAAM,EAAAF,EAGAJ,EAAAO,EAAAR,EAGAC,EAAAQ,EAAA,SAAAd,EAAAe,EAAAC,GACAV,EAAAW,EAAAjB,EAAAe,IACAG,EAAAC,eAAAnB,EAAAe,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CV,EAAAgB,EAAA,SAAAtB,GACA,oBAAAuB,eAAAC,aACAN,EAAAC,eAAAnB,EAAAuB,OAAAC,aAAwDC,MAAA,WAExDP,EAAAC,eAAAnB,EAAA,cAAiDyB,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,EAAAY,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAX,EAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAQ,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAhC,GACA,IAAAe,EAAAf,KAAA2B,WACA,WAA2B,OAAA3B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAK,EAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,EAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD7B,EAAAgC,EAAA,GAIAhC,IAAAiC,EAAA,yCCrEO,IAaMC,EAbeC,EAAST,KAAKrB,KAAKqB,KAAKS,EAAST,KAa7BU,CAAaD,EAAS9B,KAAKqB,KAAMS,EAAS9B,MAG7DgC,EAA2BH,EAAiBtB,EAAOkB,UAAUO,UAC7DC,EAA2B,SAAAC,GAAG,MAAsB,oBAAlBF,EAASE,IA2BlDC,GAxBkC5B,EAAOC,eACPD,EAAO6B,iBACP7B,EAAO8B,SA+BlCC,GARiBC,EAAMC,QACNX,EAAiBM,EAAIM,SACrBZ,EAAiBM,EAAIO,SACrBb,EAAiBM,EAAIQ,QACtBd,EAAiBM,EAAIS,OAIxBC,EAAQC,KACrBC,EAAeF,EAAQG,OAASV,EASvCW,GARqBJ,EAAQK,KAIL,oBAAuBtC,QAAUA,OAAOuC,UAAWvC,OAAOuC,SAI3DC,YAAY3B,WAC5B4B,EAAMC,EACCD,EAAIE,KAIG1B,EAAiBoB,EAAqBO,aACrC3B,EAAiBoB,EAAqBQ,cACtC5B,EAAiBoB,EAAqBS,cACtC7B,EAAiBoB,EAAqBU,cACtC9B,EAAiBoB,EAAqBW,cACnC/B,EAAiBoB,EAAqBY,iBCvE9D,SAASC,EAAaC,GAA+B,IACxD,IAAIC,EAAcD,MADsCE,EAAAC,UAAAC,OAAdC,EAAc,IAAA7B,EAAA0B,EAAA,EAAAA,EAAA,KAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAdD,EAAcC,EAAA,GAAAH,UAAAG,GAExD,IAEIxE,EACAuB,EAHAkD,EAAcF,EAAaD,OAC3BI,GAAc,EAUlB,IAN4B,kBAAjBR,IACPQ,EAAcR,EACdC,EAAcI,EAAaI,YAC3BF,EAAcF,EAAaD,QAG1BtE,EAAI,EAAGA,EAAIyE,EAAOzE,IACnB,GAAKuE,EAAavE,GAIlB,IAAKuB,KAAOgD,EAAavE,GACjBuE,EAAavE,GAAG6B,eAAeN,KAE3BmD,GACAtC,EAAS+B,EAAS5C,KAClBa,EAASmC,EAAavE,GAAGuB,IAEzB4C,EAAS5C,GAAO0C,GAAc,EAAME,EAAS5C,GAAMgD,EAAavE,GAAGuB,IAGnE4C,EAAS5C,GAAOgD,EAAavE,GAAGuB,IAKhD,OAAO4C,EAEIF,ICtCXW,EACmB,oBAAZC,QACP,WACI,IAAIlE,EAAiBD,EAAOC,eACxBmE,EAAUC,EAAKC,MAAQ,IAEvBH,EAAUD,EAAc,WACxBK,KAAK1E,KAAO,QAA0B,IAAhB2E,EAAKC,WAAmB,GAAML,IAAY,MAGpED,EAAQjD,WACJwD,IAAK,SAAS7D,EAAKN,GACf,IAAIoE,EAAQ9D,EAAI0D,KAAK1E,MAKrB,OAJI8E,GAASA,EAAM,KAAO9D,EACtB8D,EAAM,GAAKpE,EAEXN,EAAeY,EAAK0D,KAAK1E,MAAOU,OAAQM,EAAKN,GAAQqE,UAAU,IAC5DL,MAEXpE,IAAK,SAASU,GACV,IAAI8D,EACJ,OAAQA,EAAQ9D,EAAI0D,KAAK1E,QAAU8E,EAAM,KAAO9D,EAC5C8D,EAAM,GAAKE,GAGnBC,OAAU,SAASjE,GACf,IAAI8D,EAAQ9D,EAAI0D,KAAK1E,MACrB,SAAK8E,GAASA,EAAM,KAAO9D,KAC3B8D,EAAM,GAAKA,EAAM,GAAKE,GACf,IAEXE,IAAK,SAASlE,GACV,IAAI8D,EAAQ9D,EAAI0D,KAAK1E,MACrB,QAAK8E,GACEA,EAAM,KAAO9D,IAI5B3B,EAAOiF,QAAUA,EApCrB,GAuCAD,EAAcC,QAIHD,ICjDXc,GAKAC,MAAQ,IAAId,EAKZvD,OAAQ,WACJ,OAAO,IAAIuD,qKCpBnB,IAAMe,EAAmB7E,OAAO,SAMnB8E,EAAb,oBAAAA,yFAAAC,CAAAb,KAAAY,GAAA,qDAAAE,CAAAF,IAAAtE,IAAA,KAAAN,MAAA,SACO+E,EAAQC,GAAU,IAAAC,EAAAjB,KAKjB,OAJAkB,EAAYlB,KAAMe,GAAQI,IAAIH,GAIvB,kBAAME,EAAYD,EAAMF,GAAQR,OAAOS,OANtD1E,IAAA,OAAAN,MAAA,SASS+E,EAAQK,GACTF,EAAYlB,KAAMe,GAAQpD,QAAQ,SAAAqD,GAAQ,OAAIA,EAASI,QAV/D9E,IAAA,QAAAN,MAAA,WAcQkF,EAAYlB,MAAMqB,YAd1BT,EAAA,GAuBA,SAASM,EAAYI,EAAMP,GAIvB,OAHKO,EAAKX,KACNW,EAAKX,GAAoB,IAAIY,KAE5BR,GAGAO,EAAKX,GAAkBH,IAAIO,IAC5BO,EAAKX,GAAkBR,IAAIY,EAAQ,IAAIS,KAEpCF,EAAKX,GAAkB/E,IAAImF,IALvBO,EAAKX,GC/BpB,IAAMc,GAAW,KAAM,OAAQ,SCkBxB,SAASC,EAAoBC,EAAKC,EAAOZ,EAAUa,GACtD,IAAIC,EAAcF,EAAMG,MAAM,OAC1BC,KAmBJ,OAjBAF,EAAOnE,QAAQ,SAAAoD,GACXY,EAAIM,iBAAiBlB,EAAQC,EAAUa,GACvCG,EAAYjB,IACRmB,OAAQ,kBAAMP,EAAIQ,oBAAoBpB,EAAQC,EAAUa,OAczDpG,EAAOY,QACV+F,UAAWJ,EACXE,OAAQ,WACJJ,EAAOnE,QAAQ,SAAAoD,GAAM,OAAIiB,EAAYjB,GAAQmB,+KC1CzD,IAAMG,EAAU,IAAIzC,QAKP0C,EAAb,WACI,SAAAA,yFAAaC,CAAAvC,KAAAsC,GACLtC,KAAKwC,MACLxC,KAAKwC,KAALC,MAAAzC,KAAaZ,WAHzB,qDAAAsD,CAAAJ,IAAAhG,IAAA,YAAAN,MAAA,SAYcgF,GACDqB,EAAQ7B,IAAIR,OACbqC,EAAQlC,IAAIH,KAAM,IAAIwB,KAE1Ba,EAAQzG,IAAIoE,MAAMmB,IAAIH,MAhB9B1E,IAAA,UAAAN,MAAA,WAuBQ,IAAM2G,EAAeN,EAAQzG,IAAIoE,MAC7B2C,IACAA,EAAahF,QAAQ,SAAAqD,GACjB,IACIA,IACF,MAAO4B,GACL3E,EAAa2E,MAGrBD,EAAatB,aAhCzBiB,EAAA,8uICEA,IAAMD,GAAU5B,EAAUpE,SACpBwG,GAAY,SACZC,GAAQ,GAAAC,OAAMF,GAAN,UACRG,GAAM,GAAAD,OAAMF,GAAN,QACNI,IACF,UACA,WACA,UACA,WACA,UACA,WACA,UACA,YAEEC,GAA0B,SAC1BC,GAAwB,SACxBC,GAAW,SACXC,GAAe,kBAAM,GACrBC,GRoDuB,SAAAC,GAAO,OAAIhF,EAAIiF,cAAcD,GQpDnCC,CAAc,YAErCF,GAAeG,UAAf,yBA0CMC,2jEH7DK,SAAUC,GASb,OARAlC,EAAQ9D,QAAQ,SAAAiG,GACZD,EAAgBE,SAASC,MACrBxH,IAAKsH,EACLG,KAAM,SACNC,UAAW,YACXC,WAAYxI,EAAOyI,yBAAyBtD,EAAGjE,UAAWiH,OAG3DD,uCGqDX,SAAAD,EAAYS,GAAS,IAAAlD,uFAAAmD,CAAApE,KAAA0D,GACjBzC,uEAAAoD,CAAArE,KAAAsE,EAAAZ,GAAAxI,KAAA8E,OADiBuE,EAAAC,IAAAvD,KAGjB,IAAIK,GACAmD,IAAKzF,KAAiBiC,EAAKyD,YAAYC,SAAUR,IAJpC,OAOjB9B,GAAQlC,IAARqE,IAAAvD,IAAkBK,GAClBA,EAAKmD,IAAI9C,IAAIiD,YAAcvB,GAC3BpC,EAAK4D,KAAO5D,EAAK4D,KAAKtI,KAAViI,IAAAvD,KAOpB,WAAwB,IAGhB6D,EAHgBC,EAAA/E,KAChBsB,EAAOe,GAAQzG,IAAIoE,MACnByE,EAAMnD,EAAKmD,IAGfxB,GAAetF,QAAQ,SAAAqH,GACnBF,EAAY,KACZ,IAAMG,EAAUC,EAAUT,EAAIO,IAE9B,GAAKP,EAAIO,GAAT,CAEO,GAAI,YAAcC,GACrBH,EAAYtG,EAAS2G,WAAW7B,GAAe8B,SAAS,GAAMC,YACpDvG,aAAa,QAAvB,GAAAiE,OAAmC0B,EAAIa,kBAAvC,KAAAvC,OAA4D0B,EAAIa,kBAAhE,KAAAvC,OAAqFiC,EAAOO,OAAO,EAAGP,EAAOpH,QAAQ,QACrH6G,EAAI9C,IAAIjD,YAAYoG,QAEjB,GAAI,WAAaG,GAEpB,KADAH,EAAYL,EAAI9C,IAAI6D,cAAcf,EAAIO,KAElC,WAED,KAAKP,EAAIO,GAAQ/C,iBACpB,OAEA6C,EAAYL,EAAIO,GAGpB1D,EAAK0D,GA2Bb,SAAAS,GAAgE,IAKxDC,EACAC,EACAC,EACAC,EAR4Bb,EAA4BS,EAA5BT,OAA4Bc,EAAAL,EAApBM,gBAAoB,IAAAD,EAAT,MAASA,EACxDxE,EAAOe,GAAQzG,IAAIoE,MACnBgG,KACAnB,EAAO7E,KAAK6E,KAH4CoB,EAIX3E,EAAKmD,IAA3CyB,EAJiDD,EAItDtE,IAAmBwE,EAJmCF,EAInCE,SAAUC,EAJyBH,EAIzBG,UAM/BC,EAAuB,SAAAC,GACvB,IAAIC,EAAWb,GAAYc,GAAwBF,EAAY,KAAOV,GAClEa,EAAYd,GAAaa,GAAwBF,EAAY,KAAOT,GACpEa,GAAY,EAuBhB,OArBIH,GAAYJ,IAA0B,QAAbJ,GAAmC,OAAbA,KAC/CG,EAAaS,MAAMC,MAAQL,EAAW,KACtCG,GAAY,GAGZD,GAAaL,IAA2B,QAAbL,GAAmC,OAAbA,KACjDG,EAAaS,MAAME,OAASJ,EAAY,KACxCC,GAAY,GAGZA,GAMA7B,EAAKhC,IAGTyD,EAAWQ,kBACXR,EAAWS,kBACJ,GAEPC,EAAe,WACf,IAAIN,GAAY,EAEZV,EAAUiB,YACVjB,EAAUiB,UAAU/E,SACpB8D,EAAUiB,UAAY,KACtBP,GAAY,GAGZV,EAAUkB,UACVlB,EAAUkB,QAAQhF,SAClB8D,EAAUkB,QAAU,KACpBR,GAAY,GAGZA,GAMA7B,EAAK7B,KAuCb,OAnCAgD,EAAUmB,UAAYzF,EAClBsD,EACA,uBACA,SAAAF,GAGIY,EAAWQ,EAAakB,YACxBzB,EAAYO,EAAamB,aACzBzB,EAAUY,GAAwB1B,EAAW,KAC7Ce,EAAUW,GAAwB1B,EAAW,KAE7CkB,EAAUkB,QAAUxF,EAChBnD,EACA,mBACAyI,GACA,GAGJhB,EAAUiB,UAAYvF,EAClBnD,EACA,sBACA8H,GACA,GAQJxB,EAAK/B,MAET,GAGGrH,EAAOY,QACV6F,OADiB,WAEbzG,EAAO8B,KAAKyI,GAAWrI,QAAQ,SAAAoD,GACvBiF,EAAUjF,KACViF,EAAUjF,GAAQmB,SAClB8D,EAAUjF,GAAU,YAlIQ7F,KAAK6J,GACzCC,OAAQF,EACRiB,SAAU5C,GAAsBmE,KAAKtC,GAC/B,KACA9B,GAAwBoE,KAAKtC,GACzB,KACA,YAvCD9J,KAAbsJ,IAAAvD,KAViBA,kSADDqB,GAqLxB,SAASkE,GAAwB5E,EAAO2F,GAKpC,OAHInE,GAASkE,KAAK1F,EAAM2F,OAAS3F,EAAM4F,cAC7B5F,EAAM4F,cAAcC,KAAK,GACzB7F,GACQ,SAAAmB,OAAUwE,EAAKG,gBAGrChE,GAAUiB,UACNhD,IAAK,KACLwE,SAAU,GACVC,UAAW,GACXd,kBAAmB,SAInBqC,SAAS,EACTC,UAAU,EACVC,SAAS,EACTC,UAAU,EACVC,SAAS,EACTC,UAAU,EACVC,SAAS,EACTC,UAAU,GCpRdrN,EAAAQ,EAAA8M,EAAA,4BAAAC,KAAAvN,EAAAQ,EAAA8M,EAAA,8BAAAE,KAEO,IAAMD,GAAUE","file":"interactions.legacy.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Interactions\"] = factory();\n\telse\n\t\troot[\"Interactions\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\r\n * return a value to a given method\r\n *\r\n * @function\r\n * @param {Function} fn\r\n * @param {*} ctx The context to be assigned to `fn`\r\n * @return {Function}\r\n *\r\n * @example\r\n *\r\n * f = functionBin(function() { console.log(`Hello ${this.name}`); }, { name: \"Jackson\" });\r\n * f(); // => \"Hello Jackson\"\r\n */\r\nexport const functionBind = Function.bind.call.bind(Function.bind);\r\n\r\n/**\r\n * return a bound `.call` to the given method.\r\n *\r\n * @type function\r\n * @param {Function} fn\r\n * @return {Function}\r\n * @example\r\n *\r\n * forEach = functionBindCall(Array.prototype.forEach);\r\n * // same as doing: Array.prototype.forEach.call (but returns a new \"call\" method);\r\n */\r\nexport const functionBindCall = functionBind(Function.call.bind, Function.call);\r\n\r\n// Object ===============================================================================\r\nexport const toString                 = functionBindCall(Object.prototype.toString);\r\nexport const isObject                 = obj => toString(obj) === \"[object Object]\";\r\nexport const isString                 = obj => toString(obj) === \"[object String]\";\r\nexport const isFunction               = obj => toString(obj) === \"[object Function]\";\r\nexport const objectDefineProperty     = Object.defineProperty;\r\nexport const objectDefineProperties   = Object.defineProperties;\r\nexport const objectKeys               = Object.keys;\r\nexport const defineProperty = (obj, prop, value, getter, setter, configurable = true, enumerable = false, writable = true) => {\r\n    const descriptor = {\r\n        configurable,\r\n        enumerable\r\n    };\r\n\r\n    if (getter || setter) {\r\n        descriptor.get = getter;\r\n        descriptor.set = setter;\r\n    } else {\r\n        descriptor.writable = writable;\r\n        descriptor.value = value;\r\n    }\r\n\r\n    objectDefineProperty(obj, prop, descriptor);\r\n\r\n    return obj;\r\n};\r\n\r\n\r\n// Array ===============================================================================\r\nconst arr = [];\r\nexport const isArray        = Array.isArray;\r\nexport const arrayForEach   = functionBindCall(arr.forEach);\r\nexport const arrayIndexOf   = functionBindCall(arr.indexOf);\r\nexport const arraySplice    = functionBindCall(arr.splice);\r\nexport const arraySlice    = functionBindCall(arr.slice);\r\n\r\n\r\n// Logging ===============================================================================\r\nexport const consoleLog = console.log; // eslint-disable-line\r\nexport const consoleError = console.error || consoleLog; // eslint-disable-line\r\nexport const consoleWarn = console.warn || consoleLog; // eslint-disable-line\r\n\r\n\r\n// Iterators ===============================================================================\r\nexport const SymbolIterator = \"undefined\" !== typeof Symbol && Symbol.iterator ? Symbol.iterator : \"@@iterator\";\r\n\r\n\r\n// DOM ===============================================================================\r\nconst HTMLElementPrototype = HTMLElement.prototype;\r\nexport const doc = document;\r\nexport const head = doc.head;\r\nexport const createDocFragment = () => doc.createDocumentFragment();\r\nexport const createElement = tagName => doc.createElement(tagName);\r\nexport const createTextNode = data => doc.createTextNode(data || \"\");\r\nexport const appendChild = functionBindCall(HTMLElementPrototype.appendChild);\r\nexport const insertBefore = functionBindCall(HTMLElementPrototype.insertBefore);\r\nexport const hasAttribute = functionBindCall(HTMLElementPrototype.hasAttribute);\r\nexport const getAttribute = functionBindCall(HTMLElementPrototype.getAttribute);\r\nexport const setAttribute = functionBindCall(HTMLElementPrototype.setAttribute);\r\nexport const removeAttribute = functionBindCall(HTMLElementPrototype.removeAttribute);","import {isObject} from \"./runtime-aliases.js\";\r\n\r\n//============================================================\r\n\r\n/**\r\n * Extends an object with the properties of another.\r\n *\r\n * @param {Object|Boolean} mergeIntoObj\r\n *  The object that will have the properties of every other object provided\r\n *  on input merged into. This can also be a `Boolean`, in which case,\r\n *  a deep merge of objects will be done - argument number 2 will\r\n *  become the `mergeIntoObj`.\r\n * @param {...Object} mergeObjects\r\n *\r\n * @return {Object}\r\n */\r\nexport function objectExtend(mergeIntoObj, ...mergeObjects) {\r\n    let response    = mergeIntoObj || {};\r\n    let total       = mergeObjects.length;\r\n    let deepMerge   = false;\r\n    let i;\r\n    let key;\r\n\r\n    if (typeof mergeIntoObj === \"boolean\") {\r\n        deepMerge   = mergeIntoObj;\r\n        response    = mergeObjects.shift() || {};\r\n        total       = mergeObjects.length;\r\n    }\r\n\r\n    for (i = 0; i < total; i++) {\r\n        if (!mergeObjects[i]) {\r\n            continue;\r\n        }\r\n\r\n        for (key in mergeObjects[i]) {\r\n            if (mergeObjects[i].hasOwnProperty(key)) {\r\n                if (\r\n                    deepMerge &&\r\n                    isObject(response[key]) &&\r\n                    isObject(mergeObjects[i][key])\r\n                ) {\r\n                    response[key] = objectExtend( true, response[key], mergeObjects[i][key]);\r\n\r\n                } else {\r\n                    response[key] = mergeObjects[i][key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return response;\r\n}\r\nexport default objectExtend;","// POLYFILL FOR WeakMap\r\n//  [pt] changed how \"delete\" is defined so that it can work in IE8\r\n\r\n/* jshint ignore:start */\r\n/**\r\n * @license\r\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\r\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\n * Code distributed by Google as part of the polymer project is also\r\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n */\r\nvar FakeWeakMap;\r\nif (typeof WeakMap === 'undefined') {\r\n    (function() {\r\n        var defineProperty = Object.defineProperty;\r\n        var counter = Date.now() % 1e9;\r\n\r\n        var WeakMap = FakeWeakMap = function() {\r\n            this.name = '__st' + (Math.random() * 1e9 >>> 0) + (counter++ + '__');\r\n        };\r\n\r\n        WeakMap.prototype = {\r\n            set: function(key, value) {\r\n                var entry = key[this.name];\r\n                if (entry && entry[0] === key)\r\n                    entry[1] = value;\r\n                else\r\n                    defineProperty(key, this.name, {value: [key, value], writable: true});\r\n                return this;\r\n            },\r\n            get: function(key) {\r\n                var entry;\r\n                return (entry = key[this.name]) && entry[0] === key ?\r\n                    entry[1] : undefined;\r\n            },\r\n            // [pt] Quotes around the delete property needed for IE8\r\n            \"delete\": function(key) {\r\n                var entry = key[this.name];\r\n                if (!entry || entry[0] !== key) return false;\r\n                entry[0] = entry[1] = undefined;\r\n                return true;\r\n            },\r\n            has: function(key) {\r\n                var entry = key[this.name];\r\n                if (!entry) return false;\r\n                return entry[0] === key;\r\n            }\r\n        };\r\n\r\n        window.WeakMap = WeakMap;\r\n    })();\r\n} else {\r\n    FakeWeakMap = WeakMap\r\n}\r\n/* jshint ignore:end */\r\nexport { FakeWeakMap as WeakMap };\r\nexport default FakeWeakMap;\r\n","import {WeakMap} from \"./WeakMap\";\r\n\r\n/**\r\n * Returns an object that contains an initialized WeakMap (`stash` property)\r\n * where data can be stored.\r\n *\r\n * @namespace dataStore\r\n *\r\n */\r\nvar dataStore = /** @lends dataStore */{\r\n    /**\r\n     * Stash data here.\r\n     * @type WeakMap\r\n     */\r\n    stash:  new WeakMap(),\r\n    /**\r\n     * Create a private data store and return it.\r\n     * @return {WeakMap}\r\n     */\r\n    create: function(){\r\n        return new WeakMap();\r\n    }\r\n};\r\n\r\nexport default dataStore;\r\nexport { dataStore };\r\n","const LISTENER_STORAGE = Symbol(\"state\");\r\n\r\n/**\r\n * Supper tiny minimalist EventEmitter\r\n * @implements MinimalEventEmitter\r\n */\r\nexport class Ev {\r\n    on(evName, callback) {\r\n        getStoreFor(this, evName).add(callback);\r\n        /**\r\n         * @typedef {Function} EvOff\r\n         */\r\n        return () => getStoreFor(this, evName).delete(callback);\r\n    }\r\n\r\n    emit(evName, data) {\r\n        getStoreFor(this, evName).forEach(callback => callback(data));\r\n    }\r\n\r\n    clear() {\r\n        getStoreFor(this).clear();\r\n    }\r\n}\r\n\r\n/**\r\n * @private\r\n * @return {Map|Set}\r\n *  If called with no `evName`, then the entire store is returned (a `Map`)\r\n */\r\nfunction getStoreFor(inst, evName) {\r\n    if (!inst[LISTENER_STORAGE]) {\r\n        inst[LISTENER_STORAGE] = new Map();\r\n    }\r\n    if (!evName) {\r\n        return inst[LISTENER_STORAGE];\r\n    }\r\n    if (!inst[LISTENER_STORAGE].has(evName)) {\r\n        inst[LISTENER_STORAGE].set(evName, new Set());\r\n    }\r\n    return inst[LISTENER_STORAGE].get(evName);\r\n}\r\n\r\n\r\n/**\r\n * Minimal EventEmitter interface provinding only the basics\r\n *\r\n * @interface MinimalEventEmitter\r\n */\r\n\r\n/**\r\n * Set an event listener\r\n * @function\r\n * @name MinimalEventEmitter#on\r\n * @param {String} evName\r\n * @param {Function} callback\r\n * @returns {EvOff}\r\n */\r\n\r\n/**\r\n * Emit an event\r\n *\r\n * @function\r\n * @name MinimalEventEmitter#emit\r\n * @param {String} evName\r\n * @param {*} data\r\n */\r\n\r\n/**\r\n * Clear the all the event listeners\r\n * @function\r\n * @name MinimalEventEmitter#clear\r\n */","import  {Ev} from \"./Ev.js\";\r\n\r\n//========================================================================\r\nconst MEMBERS = [\"on\", \"emit\", \"clear\"];\r\n\r\n/**\r\n * Add basic Eventful methods ([MinimalEventEmitter]{@link MinimalEventEmitter}) to the given class.\r\n *\r\n * @returns {function(*): *}\r\n */\r\nexport function eventful() {\r\n    return function (classDescriptor) {\r\n        MEMBERS.forEach(memberName => {\r\n            classDescriptor.elements.push({\r\n                key: memberName,\r\n                kind: \"method\",\r\n                placement: \"prototype\",\r\n                descriptor: Object.getOwnPropertyDescriptor(Ev.prototype, memberName)\r\n            });\r\n        });\r\n        return classDescriptor;\r\n    }\r\n}\r\n","/**\r\n * Adds an event handler to a DOM element and returns back an\r\n * object that allows for removal of the event.\r\n *\r\n * @function domAddEventListener\r\n *\r\n * @param {HTMLElement} ele\r\n * @param {String} event\r\n *  The event to listen to (ex. `click`). Multiple events can be defined\r\n *  by separating them with whitespace\r\n * @param {Function} callback\r\n * @param {Boolean} [capture]\r\n *\r\n * @return DOMEventListener\r\n *\r\n * @example\r\n *\r\n * var listener = domAddEventHandler(myEle, \"click\", function(){});\r\n * ...\r\n * listener.remove();\r\n */\r\nexport function domAddEventListener(ele, event, callback, capture) {\r\n    let events      = event.split(/\\s+/);\r\n    let evListeners = {};\r\n\r\n    events.forEach(evName => {\r\n        ele.addEventListener(evName, callback, capture);\r\n        evListeners[evName] = {\r\n            remove: () => ele.removeEventListener(evName, callback, capture)\r\n        }\r\n    });\r\n\r\n    /**\r\n     * A DOM Event listener.\r\n     *\r\n     * @typedef {Object} DOMEventListener\r\n     *\r\n     * @property {Function} remove\r\n     * @property {Object} listeners\r\n     *  List of listeners that were bound to the DOM element. Each listeners has a\r\n     *  corresponding `.remove()` method.\r\n     */\r\n    return Object.create({\r\n        listeners: evListeners,\r\n        remove: function () {\r\n            events.forEach(evName => evListeners[evName].remove());\r\n        }\r\n    });\r\n}\r\nexport default domAddEventListener;\r\n","import {consoleError} from \"./runtime-aliases.js\";\r\n\r\n//======================================================================\r\nconst PRIVATE = new WeakMap();\r\n\r\n/**\r\n * A base class\r\n */\r\nexport class BaseClass {\r\n    constructor(){\r\n        if (this.init) { // for backwards compatibility\r\n            this.init(...arguments);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add a callback to be executed when `.destroy()` is executed\r\n     *\r\n     * @param {FUnction} callback\r\n     */\r\n    onDestroy(callback) {\r\n        if (!PRIVATE.has(this)) {\r\n            PRIVATE.set(this, new Set());\r\n        }\r\n        PRIVATE.get(this).add(callback);\r\n    }\r\n\r\n    /**\r\n     * Run destroy logic, which by default is to run all callbacks stored via `.onDestroy()`\r\n     */\r\n    destroy() {\r\n        const callbackList = PRIVATE.get(this);\r\n        if (callbackList) {\r\n            callbackList.forEach(callback => {\r\n                try {\r\n                    callback();\r\n                } catch (e) {\r\n                    consoleError(e);\r\n                }\r\n            });\r\n            callbackList.clear();\r\n        }\r\n    }\r\n}","import {objectExtend} from \"@purtuga/common/src/jsutils/objectExtend.js\"\r\nimport {dataStore} from \"@purtuga/common/src/jsutils/dataStore.js\"\r\nimport {eventful} from \"@purtuga/common/src/jsutils/Ev-decorator.js\"\r\nimport {domAddEventListener} from \"@purtuga/common/src/domutils/domAddEventListener.js\"\r\nimport {BaseClass} from \"@purtuga/common/src/jsutils/BaseClass.js\"\r\nimport {\r\n    createElement,\r\n    doc\r\n} from \"@purtuga/common/src/jsutils/runtime-aliases.js\";\r\n//========================================================================\r\nconst PRIVATE = dataStore.create();\r\nconst EV_RESIZE = \"resize\";\r\nconst EV_START = `${EV_RESIZE}-start`;\r\nconst EV_END = `${EV_RESIZE}-end`;\r\nconst HANDLE_OPTIONS = [\r\n    \"nHandle\",\r\n    \"neHandle\",\r\n    \"eHandle\",\r\n    \"seHandle\",\r\n    \"sHandle\",\r\n    \"swHandle\",\r\n    \"wHandle\",\r\n    \"nwHandle\"\r\n];\r\nconst IS_NORTH_SOUTH_MOVEMENT = /^[ns]H/;\r\nconst IS_EAST_WEST_MOVEMENT = /^[ew]H/;\r\nconst IS_TOUCH = /^touch/;\r\nconst RETURN_FALSE = () => false;\r\nconst handleTemplate = createElement(\"template\");\r\n\r\nhandleTemplate.innerHTML = `<div handle></div>`;\r\n\r\n/**\r\n * Utility to make a given DOM element resizable by dragging its edges.\r\n *\r\n * @class Resizable\r\n * @extends BaseClass\r\n * @implements MinimalEventEmitter\r\n *\r\n * @param {Object} options\r\n *\r\n * @param {HTMLElement} options.ele\r\n *\r\n * @param {HTMLElement} [options.minWidth=50]\r\n *\r\n * @param {HTMLElement} [options.minHeight=50]\r\n *\r\n * @param {String} [options.handleClassPrefix=\"handle\"]\r\n *  The CSS Prefix for the handles. Used only on handles whose configuration (see below) is `true`;\r\n *\r\n * @param {Boolean|String|HTMLElement} [options.nHandle=false]\r\n *  The top (n = North) drag handle. The following option values applies to all handles:\r\n *  -   `Boolean`: indicating if handle should be used or not. In such case,\r\n *      this utility will insert its own markup to represent the handle.\r\n *      Note that this option will require that Styles be added to the page in order\r\n *      to ensure the handles are styles correctly.\r\n *  -   `String`: a selector identifing the drag handle (selector is applied\r\n *       to `options.ele`)\r\n *  -   `HTMLElement`: An HTML element\r\n * @param {Boolean|String|HTMLElement} [options.neHandle=false]\r\n * @param {Boolean|String|HTMLElement} [options.eHandle=true]\r\n * @param {Boolean|String|HTMLElement} [options.seHandle=true]\r\n * @param {Boolean|String|HTMLElement} [options.sHandle=true]\r\n * @param {Boolean|String|HTMLElement} [options.swHandle=false]\r\n * @param {Boolean|String|HTMLElement} [options.wHandle=false]\r\n * @param {Boolean|String|HTMLElement} [options.nwHandle=false]\r\n *\r\n * @fires Resizable#resize-start\r\n * @fires Resizable#resize-end\r\n * @fires Resizable#resize\r\n */\r\n@eventful()\r\nclass Resizable extends BaseClass {\r\n    constructor(options) {\r\n        super();\r\n\r\n        let inst = {\r\n            opt: objectExtend({}, this.constructor.defaults, options)\r\n        };\r\n\r\n        PRIVATE.set(this, inst);\r\n        inst.opt.ele.ondragstart = RETURN_FALSE;\r\n        this.emit = this.emit.bind(this);\r\n        setupHandles.call(this);\r\n    }\r\n\r\n    setHandle() {} // FIXME: implement\r\n}\r\n\r\nfunction setupHandles() {\r\n    let inst = PRIVATE.get(this);\r\n    let opt = inst.opt;\r\n    let handleEle;\r\n\r\n    HANDLE_OPTIONS.forEach(handle => {\r\n        handleEle = null;\r\n        const handleType = typeof opt[handle];\r\n\r\n        if (!opt[handle]) {\r\n            return;\r\n        } else if (\"boolean\" === handleType) {\r\n            handleEle = document.importNode(handleTemplate.content, true).firstChild;\r\n            handleEle.setAttribute(\"class\", `${opt.handleClassPrefix} ${opt.handleClassPrefix}-${handle.substr(0, handle.indexOf(\"H\"))}`);\r\n            opt.ele.appendChild(handleEle);\r\n\r\n        } else if (\"string\" === handleType) {\r\n            handleEle = opt.ele.querySelector(opt[handle]);\r\n            if (!handleEle) {\r\n                return;\r\n            }\r\n        } else if (!opt[handle].addEventListener) {\r\n            return;\r\n        } else {\r\n            handleEle = opt[handle];\r\n        }\r\n\r\n        inst[handle] = addEventHandlingToHandle.call(this, {\r\n            handle: handleEle,\r\n            movement: IS_EAST_WEST_MOVEMENT.test(handle)\r\n                ? \"ew\"\r\n                : IS_NORTH_SOUTH_MOVEMENT.test(handle)\r\n                    ? \"ns\"\r\n                    : \"all\"\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Adds event handling to a give handle.\r\n *\r\n * @param {Object} options\r\n * @param {HTMLElement} options.handle\r\n * @param {Object} [options.movement=\"all\"]\r\n *  The type of movement the handle allows. Valid values are:\r\n *\r\n *  -   `all`: All directions (north-south/east-west)\r\n *  -   `ns`: vertically only (north south)\r\n *  -   `ew`: Horizontally only (east west)\r\n *\r\n * @return {Object}\r\n *  An object containing a `.remove()` method that can be used to\r\n *  destruct all event handlers\r\n */\r\nfunction addEventHandlingToHandle({ handle, movement = \"all\" }) {\r\n    let inst = PRIVATE.get(this);\r\n    let domEvents = {};\r\n    let emit = this.emit;\r\n    let { ele: resizableEle, minWidth, minHeight } = inst.opt;\r\n    let boxWidth;\r\n    let boxHeight;\r\n    let handleX;\r\n    let handleY;\r\n\r\n    let resizeWhenMouseMoves = mouseEvent => {\r\n        let newWidth = boxWidth + (getEventPointerPosition(mouseEvent, \"x\") - handleX);\r\n        let newHeight = boxHeight + (getEventPointerPosition(mouseEvent, \"y\") - handleY);\r\n        let fireEvent = false;\r\n\r\n        if (newWidth >= minWidth && (movement === \"all\" || movement === \"ew\")) {\r\n            resizableEle.style.width = newWidth + \"px\";\r\n            fireEvent = true;\r\n        }\r\n\r\n        if (newHeight >= minHeight && (movement === \"all\" || movement === \"ns\")) {\r\n            resizableEle.style.height = newHeight + \"px\";\r\n            fireEvent = true;\r\n        }\r\n\r\n        if (fireEvent) {\r\n            /**\r\n             * Element was resized\r\n             *\r\n             * @event Resizable#resize\r\n             */\r\n            emit(EV_RESIZE);\r\n        }\r\n\r\n        mouseEvent.stopPropagation();\r\n        mouseEvent.preventDefault();\r\n        return false;\r\n    };\r\n    let stopResizing = (/*ev*/) => {\r\n        let fireEvent = false;\r\n\r\n        if (domEvents.mousemove) {\r\n            domEvents.mousemove.remove();\r\n            domEvents.mousemove = null;\r\n            fireEvent = true;\r\n        }\r\n\r\n        if (domEvents.mouseup) {\r\n            domEvents.mouseup.remove();\r\n            domEvents.mouseup = null;\r\n            fireEvent = true;\r\n        }\r\n\r\n        if (fireEvent) {\r\n            /**\r\n             * Resizing of element has ended (user released the mouse (mouseup).\r\n             *\r\n             * @event Resizable#resize-end\r\n             */\r\n            emit(EV_END);\r\n        }\r\n    };\r\n\r\n    domEvents.mousedown = domAddEventListener(\r\n        handle,\r\n        \"mousedown touchstart\",\r\n        handleEle => {\r\n            // FIXME: check if mouse is still down. Edge case: user tabs between windows while mosue is down.\r\n\r\n            boxWidth = resizableEle.clientWidth;\r\n            boxHeight = resizableEle.clientHeight;\r\n            handleX = getEventPointerPosition(handleEle, \"x\"); // handleEle.clientX;\r\n            handleY = getEventPointerPosition(handleEle, \"y\"); //handleEle.clientY;\r\n\r\n            domEvents.mouseup = domAddEventListener(\r\n                doc,\r\n                \"mouseup touchend\",\r\n                stopResizing,\r\n                false\r\n            );\r\n\r\n            domEvents.mousemove = domAddEventListener(\r\n                doc,\r\n                \"mousemove touchmove\",\r\n                resizeWhenMouseMoves,\r\n                false\r\n            );\r\n\r\n            /**\r\n             * Resizing of element is about to start (user moused down on handle)\r\n             *\r\n             * @event Resizable#resize-start\r\n             */\r\n            emit(EV_START);\r\n        },\r\n        false\r\n    );\r\n\r\n    return Object.create({\r\n        remove() {\r\n            Object.keys(domEvents).forEach(evName => {\r\n                if (domEvents[evName]) {\r\n                    domEvents[evName].remove();\r\n                    domEvents[evName] = null;\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction getEventPointerPosition(event, type) {\r\n    const coordinates =\r\n        IS_TOUCH.test(event.type) && event.targetTouches\r\n            ? event.targetTouches.item(0)\r\n            : event;\r\n    return coordinates[`client${type.toUpperCase()}`];\r\n}\r\n\r\nResizable.defaults = {\r\n    ele: null,\r\n    minWidth: 50,\r\n    minHeight: 50,\r\n    handleClassPrefix: \"handle\",\r\n    // FIXME: support `maxWidth` of px + keyword like `parent` or maybe juust a % (implies parent)\r\n    // FIXME: support `maxHeight` of px + keyword like `parent` or maybe just a % (which would imply parent)\r\n    // drag handles\r\n    nHandle: false,\r\n    neHandle: false,\r\n    eHandle: true,\r\n    seHandle: true,\r\n    sHandle: true,\r\n    swHandle: false,\r\n    wHandle: false,\r\n    nwHandle: false\r\n};\r\n\r\nexport { Resizable };\r\nexport default Resizable;\r\n","export * from \"./Resizable/Resizable.js\"\r\n\r\nexport const VERSION = BUILD.DATA.VERSION; // eslint-disable-line\r\n"],"sourceRoot":""}